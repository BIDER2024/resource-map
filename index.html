<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>גלה את משאביך - רות בידרמן</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap');
        
        body {
            font-family: 'Rubik', sans-serif;
            direction: rtl;
            background-color: #f8fafc;
        }

        @media print {
            body * {
                visibility: visible !important;
            }
            .print\:hidden {
                display: none !important;
            }
        }

        .intro-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .intro-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }

        .resource-map {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        function App() {
            const [showDevelopmentPlan, setShowDevelopmentPlan] = React.useState(false);
            const [planData, setPlanData] = React.useState(null);

            const handleCompletePlan = (situation, ratings, notes) => {
                setPlanData({ situation, ratings, notes });
                setShowDevelopmentPlan(true);
            };

            const handleResetPlan = () => {
                setShowDevelopmentPlan(false);
                setPlanData(null);
            };

            return (
                <div className="min-h-screen bg-gradient-to-b from-blue-50 to-white">
                    {!showDevelopmentPlan ? (
                        <>
                            {/* כותרת ראשית */}
                            <div className="pt-12 pb-6 text-center">
                                <h1 className="text-5xl font-bold text-blue-800 mb-4">
                                    עכשיו גלה את משאביך
                                </h1>
                                <h2 className="text-2xl text-gray-600">
                                    מאת רות בידרמן
                                </h2>
                            </div>

                            {/* הסבר ומבוא */}
                            <div className="max-w-6xl mx-auto px-4 py-8">
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                                    <div className="intro-card p-8">
                                        <h3 className="text-2xl font-bold text-blue-700 mb-4">
                                            מהי מפת המשאבים?
                                        </h3>
                                        <p className="text-lg text-gray-700">
                                            מפת המשאבים האישית היא כלי ייחודי המאפשר לך לזהות ולמפות את החוזקות, 
                                            הכישורים והיכולות העומדים לרשותך. באמצעות המפה תוכל/י לקבל תמונה מקיפה 
                                            של המשאבים שלך בארבעה תחומים מרכזיים: אישי, מקצועי, חברתי ורגשי.
                                        </p>
                                    </div>

                                    <div className="intro-card p-8">
                                        <h3 className="text-2xl font-bold text-blue-700 mb-4">
                                            למה זה חשוב?
                                        </h3>
                                        <p className="text-lg text-gray-700">
                                            מחקרים מראים שזיהוי וטיפוח משאבים אישיים מגביר חוסן נפשי, משפר ביצועים 
                                            ומעצים את תחושת המסוגלות. הבנת המשאבים העומדים לרשותנו מאפשרת לנו 
                                            להתמודד טוב יותר עם אתגרים ולממש את הפוטנציאל שלנו.
                                        </p>
                                    </div>
                                </div>

                                <ResourceMap onCompletePlan={handleCompletePlan} />
                            </div>
                        </>
                    ) : (
                        <DevelopmentPlan 
                            situation={planData.situation} 
                            ratings={planData.ratings}
                            notes={planData.notes}
                            onReset={handleResetPlan}
                        />
                    )}
                </div>
            );
        }

        function ResourceMap({ onCompletePlan }) {
            const [situation, setSituation] = React.useState('');
            const [activeResource, setActiveResource] = React.useState(null);
            const [ratings, setRatings] = React.useState({});
            const [notes, setNotes] = React.useState({});
            const [isComplete, setIsComplete] = React.useState(false);

            const resources = {
                'כישורים אישיים': [
                    'חוסן נפשי', 'ביטחון עצמי', 'גמישות מחשבתית', 
                    'יצירתיות', 'מודעות עצמית', 'יכולת למידה'
                ],
                'כישורים חברתיים': [
                    'תקשורת בינאישית', 'אמפתיה', 'עבודת צוות', 
                    'מנהיגות', 'יכולת השפעה', 'יצירת קשרים'
                ],
                'כישורים מקצועיים': [
                    'מומחיות תחומית', 'ניהול זמן', 'פתרון בעיות', 
                    'חשיבה אנליטית', 'יזמות', 'קבלת החלטות'
                ],
                'משאבים רגשיים': [
                    'ויסות רגשי', 'אופטימיות', 'הנעה עצמית', 
                    'התמודדות עם לחץ', 'חוסן רגשי', 'מוטיבציה'
                ]
            };

            const categories = Object.keys(resources);

            // Check if all resources have been rated
            React.useEffect(() => {
                const allResources = Object.values(resources).flat();
                const allRated = allResources.every(resource => ratings[resource] !== undefined);
                
                if (allRated && situation.trim() !== '') {
                    setIsComplete(true);
                } else {
                    setIsComplete(false);
                }
            }, [ratings, situation]);

            const getCirclePosition = (index, total, radius, centerX, centerY) => {
                const angle = (index * 2 * Math.PI) / total;
                return {
                    x: centerX + radius * Math.cos(angle - Math.PI / 2),
                    y: centerY + radius * Math.sin(angle - Math.PI / 2)
                };
            };

            const getRatingColor = (rating) => {
                switch(rating) {
                    case 1: return '#FF9999';
                    case 2: return '#FFD699';
                    case 3: return '#99FF99';
                    case 4: return '#9999FF';
                    default: return '#CCCCCC';
                }
            };

            const handleRatingChange = (resource, rating) => {
                setRatings(prev => ({
                    ...prev,
                    [resource]: rating
                }));
            };

            const handleNoteChange = (resource, note) => {
                setNotes(prev => ({
                    ...prev,
                    [resource]: note
                }));
            };

            const handleCompletePlan = () => {
                onCompletePlan(situation, ratings, notes);
            };

            return (
                <div className="p-4 max-w-6xl mx-auto">
                    <div className="mb-8">
                        <div className="mb-6">
                            <label className="block text-xl text-gray-700 mb-2">
                                הסיטואציה שברצוני לבחון:
                            </label>
                            <input
                                type="text"
                                value={situation}
                                onChange={(e) => setSituation(e.target.value)}
                                className="w-full p-3 border rounded-lg text-lg"
                                placeholder="תאר/י את הסיטואציה..."
                            />
                        </div>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-12 gap-6">
                        <div className="lg:col-span-9 bg-white p-4 rounded-lg shadow-lg relative">
                            <div className="absolute left-4 top-4 bg-white p-4 rounded-lg shadow-md z-10">
                                <h3 className="text-lg font-bold mb-2">עוצמת משאב:</h3>
                                {[
                                    { level: 1, color: '#FF9999', text: 'חלש' },
                                    { level: 2, color: '#FFD699', text: 'בינוני' },
                                    { level: 3, color: '#99FF99', text: 'חזק' },
                                    { level: 4, color: '#9999FF', text: 'חזק מאוד' }
                                ].map((item) => (
                                    <div key={item.level} className="flex items-center mb-1">
                                        <div 
                                            className="w-4 h-4 ml-2"
                                            style={{ backgroundColor: item.color }}
                                        />
                                        <span className="text-sm">
                                            {`${item.text} (${item.level})`}
                                        </span>
                                    </div>
                                ))}
                            </div>

                            <svg viewBox="0 0 600 600" className="w-full h-full">
                                {[4, 3, 2, 1].map((level) => (
                                    <g key={level}>
                                        <circle
                                            cx="300"
                                            cy="300"
                                            r={level * 60}
                                            fill="none"
                                            stroke="#ddd"
                                            strokeWidth="1"
                                        />
                                        <text
                                            x="300"
                                            y={300 - (level * 60) + 20}
                                            textAnchor="middle"
                                            fill="#666"
                                            fontSize="16"
                                            fontWeight="bold"
                                        >
                                            {level}
                                        </text>
                                    </g>
                                ))}

                                {categories.map((category, categoryIndex) => (
                                    resources[category].map((resource, resourceIndex) => {
                                        const totalResources = Object.values(resources).flat().length;
                                        const index = categoryIndex * resources[category].length + resourceIndex;
                                        const pos = getCirclePosition(index, totalResources, 240, 300, 300);
                                        const rating = ratings[resource] || 0;
                                        const ratingPos = getCirclePosition(
                                            index,
                                            totalResources,
                                            rating * 60,
                                            300,
                                            300
                                        );

                                        return (
                                            <g key={resource}>
                                                <line
                                                    x1="300"
                                                    y1="300"
                                                    x2={pos.x}
                                                    y2={pos.y}
                                                    stroke="#eee"
                                                    strokeWidth="1"
                                                />
                                                
                                                {rating > 0 && (
                                                    <g>
                                                        <circle
                                                            cx={ratingPos.x}
                                                            cy={ratingPos.y}
                                                            r="15"
                                                            fill={getRatingColor(rating)}
                                                            opacity="0.8"
                                                        />
                                                        <text
                                                            x={ratingPos.x}
                                                            y={ratingPos.y + 5}
                                                            textAnchor="middle"
                                                            fill="white"
                                                            fontSize="12"
                                                            fontWeight="bold"
                                                        >
                                                            {rating}
                                                        </text>
                                                    </g>
                                                )}

                                                <g
                                                    transform={`translate(${pos.x}, ${pos.y})`}
                                                    onClick={() => setActiveResource(resource)}
                                                    style={{ cursor: 'pointer' }}
                                                >
                                                    <circle
                                                        r="6"
                                                        fill={activeResource === resource ? "#3B82F6" : "#93C5FD"}
                                                    />
                                                    <text
                                                        x={pos.x > 300 ? 10 : -10}
                                                        y="5"
                                                        textAnchor={pos.x > 300 ? "start" : "end"}
                                                        fontSize="14"
                                                        fill="#4B5563"
                                                        className="font-medium"
                                                    >
                                                        {resource}
                                                    </text>
                                                </g>
                                            </g>
                                        );
                                    })
                                ))}
                            </svg>
                        </div>

                        <div className="lg:col-span-3">
                            {activeResource ? (
                                <div className="bg-white p-4 rounded-lg shadow-lg">
                                    <h3 className="text-xl font-bold mb-4">{activeResource}</h3>
                                    <div className="mb-6">
                                        <label className="block text-gray-700 mb-2">
                                            דירוג (1-4):
                                        </label>
                                        <input
                                            type="range"
                                            min="0"
                                            max="4<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>גלה את משאביך - רות בידרמן</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap');
        
        body {
            font-family: 'Rubik', sans-serif;
            direction: rtl;
            background-color: #f8fafc;
        }

        @media print {
            body * {
                visibility: visible !important;
            }
            .print\:hidden {
                display: none !important;
            }
        }

        .intro-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .intro-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }

        .resource-map {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        function DevelopmentPlan({ situation = '', ratings = {}, notes = {}, onReset }) {
            const [developmentPlan, setDevelopmentPlan] = React.useState(null);

            const resources = {
                'כישורים אישיים': [
                    'חוסן נפשי', 'ביטחון עצמי', 'גמישות מחשבתית', 
                    'יצירתיות', 'מודעות עצמית', 'יכולת למידה'
                ],
                'כישורים חברתיים': [
                    'תקשורת בינאישית', 'אמפתיה', 'עבודת צוות', 
                    'מנהיגות', 'יכולת השפעה', 'יצירת קשרים'
                ],
                'כישורים מקצועיים': [
                    'מומחיות תחומית', 'ניהול זמן', 'פתרון בעיות', 
                    'חשיבה אנליטית', 'יזמות', 'קבלת החלטות'
                ],
                'משאבים רגשיים': [
                    'ויסות רגשי', 'אופטימיות', 'הנעה עצמית', 
                    'התמודדות עם לחץ', 'חוסן רגשי', 'מוטיבציה'
                ]
            };

            const resourceDetails = {
                'חוסן נפשי': {
                    מחקר: 'מחקרים מראים שיפור של 40-65% בחוסן הנפשי באמצעות התערבויות מובנות',
                    כלים: [
                        'תרגול מיינדפולנס יומי (20 דקות)',
                        'יומן הכרת תודה',
                        'תרגילי נשימה מובנים',
                        'מדיטציה מודרכת'
                    ],
                    פעולות: [
                        'זיהוי וכתיבת 3 הצלחות יומיות',
                        'פיתוח שגרת בוקר מחזקת',
                        'יצירת רשת תמיכה',
                        'תרגול התמודדות הדרגתי'
                    ]
                },
                'ביטחון עצמי': {
                    מחקר: 'מחקרי פסיכולוגיה חיובית מראים שיפור של 55% בביטחון העצמי דרך תיעוד הצלחות ותרגול יומי',
                    כלים: [
                        'יומן הצלחות יומי',
                        'תרגולי אסרטיביות',
                        'הצבת יעדים קטנים',
                        'תרגילי העצמה'
                    ],
                    פעולות: [
                        'לקיחת אחריות על משימה חדשה בשבוע',
                        'יציאה מדורגת מאזור הנוחות',
                        'חגיגת הישגים קטנים',
                        'התנסות שבועית בדבר חדש'
                    ]
                }
            };

            React.useEffect(() => {
                const generatePlan = () => {
                    const validRatings = Object.fromEntries(
                        Object.entries(ratings).filter(([_, rating]) => 
                            typeof rating === 'number' && !isNaN(rating)
                        )
                    );

                    const weakResources = Object.entries(validRatings)
                        .filter(([_, rating]) => rating <= 2)
                        .map(([resource, rating]) => ({ resource, rating }));

                    const plan = {
                        מצב_משאבים: {
                            סך_חזקים: Object.values(validRatings).filter(r => r > 2).length,
                            סך_חלשים: weakResources.length,
                            פירוט: weakResources
                        },
                        תוכנית_שבועית: weakResources.map(({ resource, rating }) => ({
                            משאב: resource,
                            דירוג: rating,
                            מטרה: `שיפור ${resource}`,
                            פעולות: [
                                ...(resourceDetails[resource]?.פעולות || []).slice(0, 2),
                                'בחירת מטרה ספציפית לשבוע'
                            ],
                            כלים: resourceDetails[resource]?.כלים || []
                        })),
                        הערות_כלליות: [
                            'התמקד/י בפעולה אחת קטנה בכל משאב',
                            'עקוב/י אחר ההתקדמות ביומן',
                            'העניק/י לעצמך סבלנות ועידוד'
                        ]
                    };

                    setDevelopmentPlan(plan);
                };

                generatePlan();
            }, [ratings]);

            const handlePrint = () => {
                window.print();
            };

            if (!developmentPlan || developmentPlan.תוכנית_שבועית.length === 0) {
                return (
                    <div className="p-6 bg-white rounded-lg shadow-lg text-center">
                        <h2 className="text-2xl font-bold mb-6 text-blue-700">תוכנית פיתוח אישית</h2>
                        <p>לא נמצאו משאבים הדורשים חיזוק</p>
                        <button 
                            onClick={onReset}
                            className="mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"
                        >
                            חזרה למפת המשאבים
                        </button>
                    </div>
                );
            }

            return (
                <div className="p-6 bg-white rounded-lg shadow-lg print:p-0">
                    <div className="flex justify-between items-center mb-6 print:hidden">
                        <button 
                            onClick={onReset}
                            className="bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300"
                        >
                            חזרה למפת המשאבים
                        </button>
                        <button 
                            onClick={handlePrint}
                            className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"
                        >
                            הדפס תוכנית
                        </button>
                    </div>

                    <h2 className="text-2xl font-bold mb-6 text-blue-700 print:text-center">תוכנית פיתוח אישית</h2>

                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6 print:grid-cols-1">
                        <div className="bg-white p-4 rounded-lg shadow-lg print:shadow-none">
                            <h3 className="text-xl font-bold mb-4 text-blue-700">מצב המשאבים</h3>
                            <div className="space-y-4">
                                <p>
                                    <span className="font-semibold">סה"כ משאבים חזקים:</span>{' '}
                                    {developmentPlan.מצב_משאבים.סך_חזקים}
                                </p>
                                <p>
                                    <span className="font-semibold">סה"כ משאבים הדורשים חיזוק:</span>{' '}
                                    {developmentPlan.מצב_משאבים.סך_חלשים}
                                </p>
                            </div>
                        </div>

                        <div className="bg-white p-4 rounded-lg shadow-lg print:shadow-none">
                            <h3 className="text-xl font-bold mb-4 text-blue-700">סיטואציה</h3>
                            <p>{situation}</p>
                        </div>
                    </div>

                    <div className="mt-6">
                        <h3 className="text-xl font-semibold mb-4 text-blue-700">תוכנית שבועית</h3>
                        {developmentPlan.תוכנית_שבועית.map((item, index) => (
                            <div 
                                key={index} 
                                className="bg-white p-4 rounded-lg shadow-lg mb-4 print:shadow-none print:border-b print:border-gray-200"
                            >
                                <h4 className="text-lg font-bold mb-3 text-blue-700">
                                    {item.משאב} (דירוג: {item.דירוג})
                                </h4>
                                <div className="grid grid-cols-2 gap-4 print:grid-cols-1">
                                    <div>
                                        <h5 className="font-semibold mb-2">פעולות:</h5>
                                        <ul className="list-disc list-inside">
                                            {item.פעולות.map((action, i) => (
                                                <li key={i}>{action}</li>
                                            ))}
                                        </ul>
                                    </div>
                                    <div>
                                        <h5 className="font-semibold mb-2">כלים:</h5>
                                        <ul className="list-disc list-inside">
                                            {item.כלים.map((tool, i) => (
                                                <li key={i}>{tool}</li>
                                            ))}
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        ))}

                        <div className="mt-6 bg-white p-4 rounded-lg shadow-lg print:shadow-none">
                            <h3 className="text-xl font-bold mb-4 text-blue-700">הערות כלליות</h3>
                            <ul className="list-disc list-inside">
                                {developmentPlan.הערות_כלליות.map((note, index) => (
                                    <li key={index}>{note}</li>
                                ))}
                            </ul>
                        </div>
                    </div>
                </div>
            );
        }

        function ResourceMap({ onCompletePlan }) {
            const [situation, setSituation] = React.useState('');
            const [activeResource, setActiveResource] = React.useState(null);
            const [ratings, setRatings] = React.useState({});
            const [notes, setNotes] = React.useState({});
            const [isComplete, setIsComplete] = React.useState(false);

            const resources = {
                'כישורים אישיים': [
                    'חוסן נפשי', 'ביטחון עצמי', 'גמישות מחשבתית', 
                    'יצירתיות', 'מודעות עצמית', 'יכולת למידה'
                ],
                'כישורים חברתיים': [
                    'תקשורת בינאישית', 'אמפתיה', 'עבודת צוות', 
                    'מנהיגות', 'יכולת השפעה', 'יצירת קשרים'
                ],
                'כישורים מקצועיים': [
                    'מומחיות תחומית', 'ניהול זמן', 'פתרון בעיות', 
                    'חשיבה אנליטית', 'יזמות', 'קבלת החלטות'
                ],
                'משאבים רגשיים': [
                    'ויסות רגשי', 'אופטימיות', 'הנעה עצמית', 
                    'התמודדות עם לחץ', 'חוסן רגשי', 'מוטיבציה'
                ]
            };

            const categories = Object.keys(resources);

            React.useEffect(() => {
                const allResources = Object.values(resources).flat();
                const allRated = allResources.every(resource => ratings[resource] !== undefined);
                
                if (allRated && situation.trim() !== '') {
                    setIsComplete(true);
                } else {
                    setIsComplete(false);
                }
            }, [ratings, situation]);

            const getCirclePosition = (index, total, radius, centerX, centerY) => {
                const angle = (index * 2 * Math.PI) / total;
                return {
                    x: centerX + radius * Math.cos(const getCirclePosition = (index, total, radius, centerX, centerY) => {
                const angle = (index * 2 * Math.PI) / total;
                return {
                    x: centerX + radius * Math.cos(angle - Math.PI / 2),
                    y: centerY + radius * Math.sin(angle - Math.PI / 2)
                };
            };

            const getRatingColor = (rating) => {
                switch(rating) {
                    case 1: return '#FF9999';
                    case 2: return '#FFD699';
                    case 3: return '#99FF99';
                    case 4: return '#9999FF';
                    default: return '#CCCCCC';
                }
            };

            const handleRatingChange = (resource, rating) => {
                setRatings(prev => ({
                    ...prev,
                    [resource]: rating
                }));
            };

            const handleNoteChange = (resource, note) => {
                setNotes(prev => ({
                    ...prev,
                    [resource]: note
                }));
            };

            const handleCompletePlan = () => {
                onCompletePlan(situation, ratings, notes);
            };

            return (
                <div className="p-4 max-w-6xl mx-auto">
                    <div className="mb-8">
                        <div className="mb-6">
                            <label className="block text-xl text-gray-700 mb-2">
                                הסיטואציה שברצוני לבחון:
                            </label>
                            <input
                                type="text"
                                value={situation}
                                onChange={(e) => setSituation(e.target.value)}
                                className="w-full p-3 border rounded-lg text-lg"
                                placeholder="תאר/י את הסיטואציה..."
                            />
                        </div>
                    </div>

                    <div className="grid grid-cols-1 lg:grid-cols-12 gap-6">
                        <div className="lg:col-span-9 bg-white p-4 rounded-lg shadow-lg relative">
                            <div className="absolute left-4 top-4 bg-white p-4 rounded-lg shadow-md z-10">
                                <h3 className="text-lg font-bold mb-2">עוצמת משאב:</h3>
                                {[
                                    { level: 1, color: '#FF9999', text: 'חלש' },
                                    { level: 2, color: '#FFD699', text: 'בינוני' },
                                    { level: 3, color: '#99FF99', text: 'חזק' },
                                    { level: 4, color: '#9999FF', text: 'חזק מאוד' }
                                ].map((item) => (
                                    <div key={item.level} className="flex items-center mb-1">
                                        <div 
                                            className="w-4 h-4 ml-2"
                                            style={{ backgroundColor: item.color }}
                                        />
                                        <span className="text-sm">
                                            {`${item.text} (${item.level})`}
                                        </span>
                                    </div>
                                ))}
                            </div>

                            <svg viewBox="0 0 600 600" className="w-full h-full">
                                {[4, 3, 2, 1].map((level) => (
                                    <g key={level}>
                                        <circle
                                            cx="300"
                                            cy="300"
                                            r={level * 60}
                                            fill="none"
                                            stroke="#ddd"
                                            strokeWidth="1"
                                        />
                                        <text
                                            x="300"
                                            y={300 - (level * 60) + 20}
                                            textAnchor="middle"
                                            fill="#666"
                                            fontSize="16"
                                            fontWeight="bold"
                                        >
                                            {level}
                                        </text>
                                    </g>
                                ))}

                                {categories.map((category, categoryIndex) => (
                                    resources[category].map((resource, resourceIndex) => {
                                        const totalResources = Object.values(resources).flat().length;
                                        const index = categoryIndex * resources[category].length + resourceIndex;
                                        const pos = getCirclePosition(index, totalResources, 240, 300, 300);
                                        const rating = ratings[resource] || 0;
                                        const ratingPos = getCirclePosition(
                                            index,
                                            totalResources,
                                            rating * 60,
                                            300,
                                            300
                                        );

                                        return (
                                            <g key={resource}>
                                                <line
                                                    x1="300"
                                                    y1="300"
                                                    x2={pos.x}
                                                    y2={pos.y}
                                                    stroke="#eee"
                                                    strokeWidth="1"
                                                />
                                                
                                                {rating > 0 && (
                                                    <g>
                                                        <circle
                                                            cx={ratingPos.x}
                                                            cy={ratingPos.y}
                                                            r="15"
                                                            fill={getRatingColor(rating)}
                                                            opacity="0.8"
                                                        />
                                                        <text
                                                            x={ratingPos.x}
                                                            y={ratingPos.y + 5}
                                                            textAnchor="middle"
                                                            fill="white"
                                                            fontSize="12"
                                                            fontWeight="bold"
                                                        >
                                                            {rating}
                                                        </text>
                                                    </g>
                                                )}

                                                <g
                                                    transform={`translate(${pos.x}, ${pos.y})`}
                                                    onClick={() => setActiveResource(resource)}
                                                    style={{ cursor: 'pointer' }}
                                                >
                                                    <circle
                                                        r="6"
                                                        fill={activeResource === resource ? "#3B82F6" : "#93C5FD"}
                                                    />
                                                    <text
                                                        x={pos.x > 300 ? 10 : -10}
                                                        y="5"
                                                        textAnchor={pos.x > 300 ? "start" : "end"}
                                                        fontSize="14"
                                                        fill="#4B5563"
                                                        className="font-medium"
                                                    >
                                                        {resource}
                                                    </text>
                                                </g>
                                            </g>
                                        );
                                    })
                                ))}
                            </svg>
                        </div>

                        <div className="lg:col-span-3">
                            {activeResource ? (
                                <div className="bg-white p-4 rounded-lg shadow-lg">
                                    <h3 className="text-xl font-bold mb-4">{activeResource}</h3>
                                    <div className="mb-6">
                                        <label className="block text-gray-700 mb-2">
                                            דירוג (1-4):
                                        </label>
                                        <input
                                            type="range"
                                            min="0"
                                            max="4"
                                            step="1"
                                            value={ratings[activeResource] || 0}
                                            onChange={(e) => handleRatingChange(activeResource, Number(e.target.value))}
                                            className="w-full"
                                        />
                                        <div className="flex justify-between text-sm text-gray-600">
                                            <span>חלש</span>
                                            <span>חזק מאוד</span>
                                        </div>
                                    </div>
                                    <div>
                                        <label className="block text-gray-700 mb-2">
                                            הערות:
                                        </label>
                                        <textarea
                                            value={notes[activeResource] || ''}
                                            onChange={(e) => handleNoteChange(activeResource, e.target.value)}
                                            className="w-full p-2 border rounded-lg"
                                            rows="4"
                                            placeholder="הוסף/י הערות..."
                                        />
                                    </div>
                                </div>
                            ) : (
                                <div className="bg-blue-50 p-4 rounded-lg">
                                    <p className="text-lg text-blue-800 text-center">
                                        בחר/י משאב במפה כדי לדרג ולהוסיף הערות
                                    </p>
                                </div>
                            )}
                        </div>
                    </div>

                    <div className="mt-6 text-center">
                        <button
                            onClick={handleCompletePlan}
                            disabled={!isComplete}
                            className={`px-8 py-3 rounded-lg text-white text-lg font-semibold ${
                                isComplete 
                                    ? 'bg-blue-600 hover:bg-blue-700' 
                                    : 'bg-gray-400 cursor-not-allowed'
                            }`}
                        >
                            סיום וקבלת תוכנית פיתוח
                        </button>
                    </div>
                </div>
            );
        }

        function App() {
            const [showDevelopmentPlan, setShowDevelopmentPlan] = React.useState(false);
            const [planData, setPlanData] = React.useState(null);

            const handleCompletePlan = (situation, ratings, notes) => {
                setPlanData({ situation, ratings, notes });
                setShowDevelopmentPlan(true);
            };

            const handleResetPlan = () => {
                setShowDevelopmentPlan(false);
                setPlanData(null);
            };

            return (
                <div className="min-h-screen bg-gradient-to-b from-blue-50 to-white">
                    {!showDevelopmentPlan ? (
                        <>
                            {/* כותרת ראשית */}
                            <div className="pt-12 pb-6 text-center">
                                <h1 className="text-5xl font-bold text-blue-800 mb-4">
                                    עכשיו גלה את משאביך
                                </h1>
                                <h2 className="text-2xl text-gray-600">
                                    מאת רות בידרמן
                                </h2>
                            </div>

                            {/* הסבר ומבוא */}
                            <div className="max-w-6xl mx-auto px-4 py-8">
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                                    <div className="intro-card p-8">
                                        <h3 className="text-2xl font-bold text-blue-700 mb-4">
                                            מהי מפת המשאבים?
                                        </h3>
                                        <p className="text-lg text-gray-700">
                                            מפת המשאבים האישית היא כלי ייחודי המאפשר לך לזהות ולמפות את החוזקות, 
                                            הכישורים והיכולות העומדים לרשותך. באמצעות המפה תוכל/י לקבל תמונה מקיפה 
                                            של המשאבים שלך בארבעה תחומים מרכזיים: אישי, מקצועי, חברתי ורגשי.
                                        </p>
                                    </div>

                                    <div className="intro-card p-8">
                                        <h3 className="text-2xl font-bold text-blue-700 mb-4">
                                            למה זה חשוב?
                                        </h3>
                                        <p className="text-lg text-gray-700">
                                            מחקרים מראים שזיהוי וטיפוח משאבים אישיים מגביר חוסן נפשי, משפר ביצועים 
                                            ומעצים את תחושת המסוגלות. הבנת המשאבים העומדים לרשותנו מאפשרת לנו 
                                            להתמודד טוב יותר עם אתגרים ולממש את הפוטנציאל שלנו.
                                        </p>
                                    </div>
                                </div>

                                <ResourceMap onCompletePlan={handleCompletePlan} />
                            </div>
                        </>
                    ) : (
                        <DevelopmentPlan 
                            situation={planData.situation} 
                            ratings={planData.ratings}
                            notes={planData.notes}
                            onReset={handleResetPlan}
                        />
                    )}
                </div>
            );
        }

        ReactDOM.render(
            <App />,
            document.getElementById('root')
        );
    </script>
</body>
</html>
